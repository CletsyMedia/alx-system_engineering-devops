#!/usr/bin/env bash
# This script queries DNS records for specified subdomains of a domain.

# Function to query DNS records for a subdomain
query_dns() {
    local domain="$1"
    local subdomain="$2"
    local record_type="A"  # Assuming A records for IP addresses, adjust if needed
    local result="$(dig +short "$subdomain.$domain" | tail -n1)"
    echo "The subdomain $subdomain is a $record_type record and points to $result"
}

# Main script
if [ $# -eq 0 ]; then
    # If no arguments provided, query default subdomains
    query_dns "$1" "www"
    query_dns "$1" "lb-01"
    query_dns "$1" "web-01"
    query_dns "$1" "web-02"
elif [ $# -eq 1 ]; then
    # If only domain argument provided, query default subdomains
    query_dns "$1" "www"
    query_dns "$1" "lb-01"
    query_dns "$1" "web-01"
    query_dns "$1" "web-02"
else
    # If both domain and subdomain arguments provided, query specified subdomain
    query_dns "$1" "$2"
fi
